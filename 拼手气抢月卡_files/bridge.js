!function(e,o){if("object"==typeof exports&&"object"==typeof module)module.exports=o();else if("function"==typeof define&&define.amd)define([],o);else{var t=o();for(var n in t)("object"==typeof exports?exports:e)[n]=t[n]}}("undefined"!=typeof self?self:this,function(){return function(e){function o(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,o),i.l=!0,i.exports}var t={};return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},o.p="/dist/",o(o.s=0)}([function(e,o,t){"use strict";function n(e){if(window.WebViewJavascriptBridge)return e(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(e);window.WVJBCallbacks=[e];var o=document.createElement("iframe");o.style.display="none",o.src="https://__bridge_loaded__",document.documentElement.appendChild(o),setTimeout(function(){document.documentElement.removeChild(o)},0)}function i(e){window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):document.addEventListener("WebViewJavascriptBridgeReady",function(){console.log("WebViewJavascriptBridgeReady",window.WebViewJavascriptBridge),e(window.WebViewJavascriptBridge)},!1)}function l(e){r?i(e):n(e)}Object.defineProperty(o,"__esModule",{value:!0});var a=window.navigator.userAgent.toLowerCase(),r=-1!=a.indexOf("android");window.WebViewJavascriptBridge=null;o.ofoBridge={ofoBridgeMethodId:0,registerHandler:function(e,o){l(function(t){console.log(e),t.registerHandler(e,function(e,t){o&&o(e,t)})})},callHandler:function(e,o,t){var o=o||{};console.log(e,o),l(function(n){n.callHandler(e,o,function(o){console.log(e,"ofoBridgeRes======",o),t&&t(o)})})},setTitle:function(e){this.callHandler("setTitle",{title:e})},setLeftItem:function(e,o){null!==e.method?(this.ofoBridgeMethodId+=1,window["ofoBridgeMethod"+this.ofoBridgeMethodId]=e.method,e.method='window["ofoBridgeMethod'+this.ofoBridgeMethodId+'"]()'):e.method="",console.log(e),this.callHandler("setLeftItem",e,o)},setRightItem:function(e,o){null!==e.method?(this.ofoBridgeMethodId+=1,window["ofoBridgeMethod"+this.ofoBridgeMethodId]=e.method,e.method='window["ofoBridgeMethod'+this.ofoBridgeMethodId+'"]()'):e.method="",console.log(e),this.callHandler("setRightItem",e,function(e){console.log(e),o&&o(e)})},showToast:function(e,o){o=o||2,this.callHandler("showToast",{text:e,duration:o})},getLocation:function(e,o){this.callHandler("getLocation",{immediately:e},o)},pickImage:function(e,o){var t={},n=this;1!=e&&2!=e||(t.source=e),this.callHandler("pickImage",t,function(e){200==e.code?o&&o(e,n.dataURItoBlob(e.value.data)):o&&o(e)})},share:function(e,o){this.callHandler("share",e,o)},showSharePanel:function(e,o){console.log("showSharePanel",e),this.callHandler("showSharePanel",e,o)},goPushSetting:function(){this.callHandler("goPushSetting")},getPushStatus:function(e){this.callHandler("getPushStatus",{},e)},closePage:function(){this.callHandler("closePage")},goBack:function(){this.callHandler("goBack")},goNext:function(){this.callHandler("goNext")},reload:function(){this.callHandler("reload")},wxPay:function(e,o){this.callHandler("wxPay",e,o)},aliPay:function(e,o){this.callHandler("aliPay",e,o)},applePay:function(e,o){this.callHandler("applePay",e,o)},openBrowser:function(e){this.callHandler("openBrowser",{url:e})},copyToClipboard:function(e){this.callHandler("copyToClipboard",{text:e})},getNetworkType:function(e){this.callHandler("getNetworkType",{},e)},makePhoneCall:function(e){this.callHandler("makePhoneCall",{text:e})},getSnapshot:function(e){var o=this;this.callHandler("getSnapshot",{},function(t){200==t.code?e&&e(t,o.dataURItoBlob(t.value.data)):e&&e(t)})},saveScreenToLocal:function(e){this.callHandler("saveScreenToLocal",{},e)},showLoading:function(){this.callHandler("showLoading")},hideLoading:function(){this.callHandler("hideLoading")},info:function(e){this.callHandler("info",{},e)},router:function(e,o){var t="";o&&(Object.keys(o).forEach(function(e){t+=e+"="+encodeURIComponent(o[e])+"&"}),t="?"+t.substring(0,t.length-1));var n="ofolink://ofo.com/"+e+t;console.log(n),this.callHandler("router",{url:n})},getToken:function(e){this.callHandler("getToken",{},e)},photoCrop:function(e,o){var t=this;console.log(e),this.callHandler("photoCrop",e,function(e){200==e.code?o&&o(e,t.dataURItoBlob(e.value.data)):o&&o(e)})},dataURItoBlob:function(e){for(var o=atob(e.split(",")[1]),t=e.split(",")[0].split(":")[1].split(";")[0],n=new Uint8Array(o.length),i=0;i<o.length;i++)n[i]=o.charCodeAt(i);var l;try{l=new Blob([n.buffer],{type:t})}catch(c){var a=window.BlobBuilder||window.WebKitBlobBuilder||window.MSBlobBuilder,r=new a;r.append(n.buffer),l=r.getBlob(t)}return l},getDetailLocation:function(e,o){this.callHandler("getDetailLocation",e||{},o)},getContacts:function(e){this.callHandler("getContacts",{},e)},shareWXMiniApp:function(e,o){console.log("shareWXMiniApp",e),this.callHandler("shareWXMiniApp",e,o)}}}])});